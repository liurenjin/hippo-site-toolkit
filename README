========================================
How to test and build Hippo Site Toolkit
========================================

1. Introduction

  Very brief introduction to how to build, test and run HST!

2. Requirements --

  (1) Java 1.5
  (2) Maven 2.0.9 or higher
  (3) [Optional] Tomcat 5.5 or 6.0 (if you want to deploy and run on Tomcat.)
      -- Note shared lib folder path, depending on your Tomcat version, in your build.properties.
  (4) [Optional] Apache Jetspeed 2.2 (if you want to deploy and run on Apache Jetspeed 2.2 Enterprise Portal.) 
      -- Note shared lib folder path, depending on the Jetspeed's Tomcat version, in your build.properties.

3. Build
    
    (1) Build with testing
    
      $ mvn clean install
    
    (2) Build with skipping tests
    
      $ mvn clean install -DskipTests 
    
4. Running an example site

  (1) With Embedded Jetty

    - To run repository and cms, move to demosuite/cms folder and run the following:
      
      $ mvn jetty:run-war
    
    - To run site web application, move to demosuite/site folder and run the following:
      
      $ mvn jetty:run
  
    - Visit the page: http://127.0.0.1:8085/site/preview/
    
  (2) With Tomcat

    - Move to demosuite/site folder.
    - Copy build.properties-sample to build.properties in the folder.
    - Edit the tomcat directory path and shared lib folder path in build.properties.
      For example,
      
        tomcat.server.home = /home/jdoe/tomcat-6.0.18
        tomcat.hst.shared.lib = ${tomcat.server.home}/lib  # For tomcat 6.x. Use ${tomcat.server.home}/shared/lib for Tomcat 5.x.
      
    - Run the following to deploy applications in the folder.
  
      $ mvn -P tomcat clean install
  
    - Visit the preview pages by http://127.0.0.1:8080/site/preview/
    - Visit the live pages by by http://127.0.0.1:8080/site/
    - You can visit cms by http://127.0.0.1:8080/cms/
      and console by http://127.0.0.1:8080/cms/console/

  (3) With Jetspeed (on Tomcat)

    - Move to demosuite/site folder.
    - Copy build.properties-sample to build.properties in the folder.
    - Edit the jetspeed server directory path and shared lib folder path in build.properties.
      For example,
      
        jetspeed.server.home = /home/jdoe/tomcat-6.0.18
        jetspeed.hst.shared.lib = ${jetspeed.server.home}/lib  # For tomcat 6.x. Use ${jetspeed.server.home}/shared/lib for Tomcat 5.x.
      
    - Run the following to deploy applications in the folder.
  
      $ mvn -P jetspeed clean install
  
    - Please note the NOTICE from the build output in your console.
      You need to edit two web.xml files and to restart Jetspeed as indicated.
    - If you complete the final step in the above, 
      visit the page: http://127.0.0.1:8080/jetspeed/
      And, click 'HST-2 Demo' tab.
    - You can visit cms by http://127.0.0.1:8080/cms/
      and console by http://127.0.0.1:8080/cms/console/
