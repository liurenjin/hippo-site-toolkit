========================================
How to test and build Hippo Site Toolkit
========================================

1. Introduction

  Very brief introduction to how to build, test and run HST!

2. Requirements --

  (1) Java 1.5
  (2) Maven 2.0.9 or higher
  (3) [Optional] Tomcat 5.5 or 6.0 (if you want to deploy and run on Tomcat.)
      -- Note shared lib folder path, depending on your Tomcat version, in your build.properties.
  (4) [Optional] Apache Jetspeed 2.2 (if you want to deploy and run on Apache Jetspeed 2.2 Enterprise Portal.) 
      -- Note shared lib folder path, depending on the Jetspeed's Tomcat version, in your build.properties.

3. Build with Testing

  (1) Start a repository server with test contents (/testsuite/cms).

  (2) Build with unit tests
  
    $ mvn clean install
    
4. Running an example site

  (1) With Embedded Jetty

    - Run the example cms repository first.
    - After Building, run the following command under /testsuite/site/ folder.

      $ mvn jetty:run-war
  
    - Visit the page: http://127.0.0.1:8085/site/content/news
    
  (2) With Tomcat

    - Copy build.properties-sample to build.properties in the project root folder.
    - Edit the tomcat directory path and shared lib folder path
    - Run the following to deploy the site.
  
      $ mvn -P tomcat clean install -DskipTests
  
    - Visit the page: http://127.0.0.1:8080/site/content/news
    - You can visit cms by http://localhost:8080/cms/
      and console by http://localhost:8080/cms/console.

  (3) With Jetspeed (on Tomcat)

    - Copy build.properties-sample to build.properties in the project root folder.
    - Edit the jetspeed server directory path and shared lib folder path
    - Run the following to deploy the site.
  
      $ mvn -P jetspeed clean install -DskipTests
  
    - Please note the NOTICE from the build output in your console.
      You need to edit two web.xml files and to restart Jetspeed as indicated.
    - If you complete the final step in the above, 
      visit the page: http://localhost:8080/jetspeed/
      And, click 'HST-2 Demo' tab.
    - You can visit cms by http://localhost:8080/cms/
      and console by http://localhost:8080/cms/console.
